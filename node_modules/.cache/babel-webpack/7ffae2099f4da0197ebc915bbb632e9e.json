{"ast":null,"code":"import { Subject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/recipes.service\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/router\";\n\nfunction SearchbarComponent_div_7_h2_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h2\");\n    i0.ɵɵtext(1, \"No recipes Found\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nconst _c0 = function () {\n  return [\"/procedure\"];\n};\n\nfunction SearchbarComponent_div_7_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵlistener(\"click\", function SearchbarComponent_div_7_div_4_Template_div_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const item_r3 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext(2);\n      return ctx_r4.storeRecipe(item_r3.name);\n    });\n    i0.ɵɵelement(1, \"img\", 9);\n    i0.ɵɵelementStart(2, \"p\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"h1\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r3 = ctx.$implicit;\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(4, _c0));\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"src\", item_r3.path, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\\u23F0 \", item_r3.duration, \" mins\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r3.name);\n  }\n}\n\nfunction SearchbarComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵelementStart(1, \"h1\", 5);\n    i0.ɵɵtext(2, \"Your Search\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, SearchbarComponent_div_7_h2_3_Template, 2, 0, \"h2\", 6);\n    i0.ɵɵtemplate(4, SearchbarComponent_div_7_div_4_Template, 6, 5, \"div\", 7);\n    i0.ɵɵelement(5, \"br\");\n    i0.ɵɵelement(6, \"br\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.lengthFlag == 1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.myRecipes);\n  }\n}\n\nexport let SearchbarComponent = /*#__PURE__*/(() => {\n  class SearchbarComponent {\n    constructor(RecipesServiceInstance) {\n      this.RecipesServiceInstance = RecipesServiceInstance;\n      this.flag = 0;\n      this.lengthFlag = 0;\n      this.searched = \"\";\n      this.ingredients = '';\n      this.indianRecipes = [];\n      this.chineseRecipes = [];\n      this.myRecipes = [];\n      this.destroy$ = new Subject();\n    }\n\n    getIngredients() {\n      this.flag = 1;\n      this.lengthFlag = 0;\n      this.myRecipes = [];\n      this.searched = this.searched.toLowerCase();\n      this.ingredients = this.searched.split(',');\n      this.chineseRecipes = this.RecipesServiceInstance.getChineseRecipes();\n      this.getItems(this.chineseRecipes);\n      this.indianRecipes = this.RecipesServiceInstance.getIndianRecipes();\n      this.getItems(this.indianRecipes);\n      this.searched = '';\n    }\n\n    ngOnDestroy() {\n      this.destroy$.next(true);\n      this.destroy$.unsubscribe();\n    }\n\n    isMatched(recipeIngredients) {\n      recipeIngredients = recipeIngredients.split(',');\n      var flag = 0;\n\n      for (var i = 0; i < this.ingredients.length; i++) {\n        flag = 0;\n\n        for (var j = 0; j < recipeIngredients.length; j++) {\n          if (recipeIngredients[j] == this.ingredients[i]) {\n            flag = 1;\n            console.log(recipeIngredients[j]);\n            break;\n          }\n        }\n\n        if (flag == 0) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n\n    getItems(recipes) {\n      for (var i = 0; i < recipes.length; i++) {\n        if (this.isMatched(recipes[i].ingredients)) {\n          this.myRecipes.push(recipes[i]);\n        }\n      }\n\n      if (this.myRecipes.length == 0) {\n        this.lengthFlag = 1;\n      } else {\n        this.lengthFlag = 0;\n      }\n    }\n\n    storeRecipe(recipe) {\n      localStorage.setItem('recipe', recipe);\n    }\n\n    ngOnInit() {}\n\n  }\n\n  SearchbarComponent.ɵfac = function SearchbarComponent_Factory(t) {\n    return new (t || SearchbarComponent)(i0.ɵɵdirectiveInject(i1.RecipesService));\n  };\n\n  SearchbarComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: SearchbarComponent,\n    selectors: [[\"app-searchbar\"]],\n    decls: 8,\n    vars: 2,\n    consts: [[\"name\", \"search\", \"type\", \"text\", \"placeholder\", \"Search here..\", 3, \"ngModel\", \"ngModelChange\"], [\"name\", \"searchButton\", 3, \"click\"], [\"src\", \"assets/Images/Icons/search.png\", \"height\", \"33px\", \"width\", \"33px\"], [\"id\", \"soln\", 4, \"ngIf\"], [\"id\", \"soln\"], [\"id\", \"cuisine\"], [4, \"ngIf\"], [\"name\", \"selectRecipe\", 3, \"routerLink\", \"click\", 4, \"ngFor\", \"ngForOf\"], [\"name\", \"selectRecipe\", 3, \"routerLink\", \"click\"], [\"height\", \"250px\", \"width\", \"257.5px\", 3, \"src\"]],\n    template: function SearchbarComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"br\");\n        i0.ɵɵelementStart(1, \"div\");\n        i0.ɵɵelementStart(2, \"input\", 0);\n        i0.ɵɵlistener(\"ngModelChange\", function SearchbarComponent_Template_input_ngModelChange_2_listener($event) {\n          return ctx.searched = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"button\", 1);\n        i0.ɵɵlistener(\"click\", function SearchbarComponent_Template_button_click_3_listener() {\n          return ctx.getIngredients();\n        });\n        i0.ɵɵelement(4, \"img\", 2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"div\");\n        i0.ɵɵelement(6, \"br\");\n        i0.ɵɵtemplate(7, SearchbarComponent_div_7_Template, 7, 2, \"div\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngModel\", ctx.searched);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ctx.flag == 1);\n      }\n    },\n    directives: [i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgModel, i3.NgIf, i3.NgForOf, i4.RouterLink],\n    styles: [\"@import\\\"https://fonts.googleapis.com/css2?family=Ephesis&display=swap\\\";@import\\\"https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@1,300&family=Ephesis&family=Frank+Ruhl+Libre:wght@300&family=Koh+Santepheap:wght@100&family=Noto+Serif:ital@1&display=swap\\\";*[_ngcontent-%COMP%]{box-sizing:border-box}h2[_ngcontent-%COMP%]{margin-left:2%}p[_ngcontent-%COMP%]{margin-top:-4.6px;background-color:#ff0000b3;text-align:center}input[_ngcontent-%COMP%]{border:1px solid black;padding:10px;text-align:left;width:30%;margin:0 0 0 2%;float:left;font-size:1em;transition:width 1s}input[_ngcontent-%COMP%]:focus{outline:none;width:92.2%}button[_ngcontent-%COMP%]{margin:0 0 0 1px;border:1px solid black;background-color:#f5f5f5;padding:1.5px}button[_ngcontent-%COMP%]:hover{background-color:#87ceeb}#soln[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:259px;border:1.7px solid black;background-color:#87ceeb;float:left;margin:0 24px 24px;position:relative;top:0;transition:top ease .5s}#soln[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:hover{top:-15px}#soln[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{font-family:\\\"Ephesis\\\",cursive;text-align:center;color:;font-size:1.3em}#cuisine[_ngcontent-%COMP%]{border-bottom:3px solid rgb(85%,100%,0%);margin-left:25px;width:95.4%;color:#ff4500;font-family:\\\"Frank Ruhl Libre\\\",serif}\"]\n  });\n  return SearchbarComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}